#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <assert.h>

char data0[] =
{
	"v...>>.vv>"
	".vv>>.vv.."
	">>.>v>...v"
	">>v>>.>.v."
	"v>v.vv.v.."
	">.>>..v..."
	".vv..>.>v."
	"v.v..>>v.v"
	"....v..v.>"
};

const char data1[] =
{
	"....vvvv.vv.v>>v.v..vv..>>v>...vv>v.v>...v.....vv.>..>>..>v>..>v.>.v.v.>..>>.v.>.v.........>.v....vv.v...v..vv...>.v.>..>>.v..vvv...v..vv>>"
	".......v>...v.v.v>>.v>.vv..v>......>...>v>v.v..>v...v.v..>.>>v.>>v...>..>>vv.>>..v>>..>v.........>v.v.>....v.vvvv..v.>.>v>.>..vv.>....vv>>v"
	">.>.v..v...v.vv....>..v.v.>>.>v..>.vv.>>......v.v..v.v>.vv>.v.>..vvv..>.....v>.v>v.>>v...>...vv.>..>>v..>....>.>..v......>>>v>...vv..v..v.v"
	">.v..vv>....>v..v..>>>>v>vvv>v..v..>>v>vv.vv.>vvv.>.>.>...>.v>>..>.v>...>>v..>v....>.v.vv.v..v>..v.>>.v.....v.>v....>>..v.>...v...>..v.v.vv"
	"v.>vv...v..v....v.vvv.....v>.>.v>>.>.vvvv>v...v>.v.v.>>>.....>...>v.vv>...>...>..>.>>..v...>>.v..v.>vv..v>>...>>..>>.v>>.v..v.v.>..>..>v.v."
	".v>.>v.v.>..vv.v>..v...>..>v..>v.>.v..vv.>>v..v..v.v.>>...v.>.>..>>..v.>>....>......vv>.>...v>vvv>.>.....vvvv..v.>..>vv.v....>.vv>.v.>>>vv."
	".>v.v.>>>>v..v..v..v..vvv...>.>.>>vv..>..>.>>>>........v.....vv.v>>...>.>.vv>.>.>..v>v>>>v....vv.........>.>v.>..v.>v>v..>v..v>..vv..v.>.>."
	".>..v>>>.v>....v.v>v>v>>>>v.v.v.>.>.vv...v.v>>>v>vv.>>..v>...>...>>>....v...vv..>.>v.v..v>....v..>...v>...>vv>vv.>.v>vv..>vv.>>...v>v...>.>"
	".v.>vvv>vvv.v.>>.>...v.vvv.>v..v...>>>.v>..vv>..>.v>>>>>.vv...>>....>>>.v>.>.>..>..vv....v.v..vv.v>..v>.v.v.v>.>v.vv>v.....v...>.v.>.v.vv.."
	".>>...v>.>..>....vv...>.vvv..>>vvvv.v.vvv..>.v.>v>.>v>.>>vv>.vv....vv..>....>vv>...>vv.......>...vv....vv.>>>..>.>v..>vv>.>.v>..v.vv>.>v>.>"
	">v>>......v.v>>.v...>...v>.vv.vv>v..>v...>..>>>..vv....v.......>v.>>..>vv.>>.vvvv>vv.>v>.v.v...v>....>.>.vv.v.v..vv>>..v.>.>...v.>..>.vv.>v"
	"......>>v>>>..>v...>v...>>....v>>...>>.>.>>>v>>v..>.>vvv>..v.>.>v>...v>vv>....v>vvv..>>..>vv....>vvv>>..>>>v>....vv>.....vv.vvv..v...>v>..>"
	".>.v.v>v.>v..>>v>.>.>.v>.vvv>>>v..>.v..>.v.vv>>v.>..v.v.......>.v.v.>..>v>....vv..>.>.>>.vv.>.v.v..>>.....v.v>.v..vvv...>.>.v..v...>..v..vv"
	">.>>>v..>...>...>vv.v>..v.vvv>.>..v.v.....>>>>vv.v>v.>.v>v.>>v>..>>v>v.v.v>v>....>..>.v...>>..vv.>>>..>.v....vv..v.vv>.v....>.vv.vv>.>v>..."
	"vv>.>vv>v...vv>..>>..v.>v>>>vv.>....v.v.>.v>v.>v..v...v...v.v.vvv...>...vvvvv.>>..>vv...>.>...v..v....>>v...v>..>.v>..>.v..v.v.>v>v..vvv..v"
	"vv>.v....>.v.vv.>>.>.>.>.v>>...vv....>.>.>v>>.vv..v.>..>.v>>..v..>.>.vv>.>.vvv..v..>...>.>.>v.>.v...>.vv.v>.>...v...>>v>...>v.>..v>.>.>>>.."
	".>...vvv...v...>>>.v..>.v......vvvv>..v....v.>vvv..v>..v..v>...>.v>.v...v..vv..>>v...>v.>vv.>..>.>..>.vvvv..>>.v.>v.>.v>>......>>>..>.vvv.v"
	".>.v>..>>vv..>>>.vv.v.v.v>>v.v.>v..>.>..>.v>v.>..v...vv>..v.v.vv...>>>v>.v...v>>.>v>>.>.....>....vv.vvvv..vv>...>>..>.......v..>>v>...v...v"
	">v...>v>...>.v.v>vv.v>.>vvv>.v..>...vv>v.>.vv>>..v.vv.>v>>v>.v..vvv.>.>>.>v.>>v..v..v>...v.vv>vv..>v...>>.>v>..v.>vv.>vvv..>vv>v.vv..>>.>>>"
	".>..vv..v>v.v.v.>>>>.....>.>>>v.>>>...>...v>..v.>...>>.v...v.vv..>v...v>v>v..>v...v.v>..vv..v.>>.vvvvv.>.v.....>.>>......v>>v.vv.>>.v.>.vv."
	">vv>>..>..v>...>>v.>..>.v.v.>vv.>.>.>vvvv..>>..>>>v.v>>>>..>vv.>.>>>>......>v..v........>>.v>.v.>v..v>v..>..>...v.v..>v....>>.v.>v....>...."
	"v>v.......v>..>.>v>>.>>.vv....vv.v.v....>>.>v.v>v.vvv...>.>>v..v>v..v.v>v..v>.>>..>>>....vv>v...v.v>.v.>..v.v>.>vv...v..vv...v.....>>.v.>v."
	"....>...>vvvvv.>.>v>v.>>vv>v....>.>>..vvvv>.v>>.>>..v....v.>>vvv.>.v>>>>>vvvvv>>>..v>vv.vvvv...v.vv....v.>vv.v.v.>v>>..v.>..>.v.>>....>>..."
	"..>>>v.v....v.>>vv..>v..>..>.>..>.....vv>.>>v..>>v.....v......>>v..vv>>v>>>>v...v.....v..>.vv.>>v..>..vvv..>v..>>v>vvv.v>..vv>..v>vv>v>>..v"
	"..v>.v>v>.>.>>..v.>...>...v>.v...v.>.vv..vv>......v.v.v...v..>.v.v...>v..v>>.....vv....v>v..v.v..>>>........v>.>.>.>..>..v>>>...v..v>v.>..>"
	".v>v..v>>v......v...v>......v.vvv..>.>...>v.>v.>>..v>v.v.v.....v.>.v.......>.v..v.>>.v..v.v.>>>>.>.>.v>.vvvv..>>...vvv.v>>>...>.vv...vv>>.."
	"..>.>..v..>v>vv.>v>.>vv..v...>.v..>..v..vv.>.>v>.>>>>>v..v>.>..v..vv.vv>.>.v>.vv>>.v..>.vvv.vv>.vv>...vv.>...v.v.v>.>.>...v>v.>..v>.v.vv..>"
	">>.v>>.>....>>v>>...>>v>.>.>.>>.>v.vv.vv..v..>..vvv...>.>..>v.v..>>......>>..v...>..>v..>.........>v.v.v.>...>vvv.......v>>v.vv>>v..v..>>.."
	".>v.v>v..>.v>v>.v>>.v.v.vv>v.vvv.>>..vv.vvv..vv>..>...v>.....v...>.>v>.>.v.v>..>.v...v>..vv..>.vv.>.>..vv.v>.v>.v>..vv.>>>vv.v.vv.>.v.>...v"
	">>.>..>>..v>>.v>.>..........vv......>>v..v.vvvvv>vv..v..vv>vv.>vv..>>>vv...vv.v>...v.vv.>v...v>>>v>>vv>vv.>>>.>v.v.vvv..>vv.>...>>...v...vv"
	".>..>>..v.....v.....v.vv>>v.>.>.>.>.>.......v....>.v>>v...>...v..>v>v..v..>>v>.>..>.>.....>v....>....>.>>>.vv.vv.>v....v>.....>>v..v...vv>v"
	">.v>..>..>>..vv.>v...>v.vvv.>>..>......v.v>v.....v.v....>v.v.v..>>v...>>>>.v.>v.>v>>>...>.>v.>v>.vv>>>.>>>.v....vv.v.v...vvv...>>.vv..>..>."
	".>..v..>...>.v....>v.>...>....vv.v..vv...v.v>v..v>v>...........v>...v>.>.....>vv.....>>vv.>>.>>.v...>.....>.v..>vv.>...........>v.vvvv>.>>v"
	".v>...vv.......vvv.v>.>v.>>.v..>>.>..>v.v>.>v..>vvv.v.v>...v>v.>.v>..vv....v..>v...>.v.....>...>.>v....v..>.>.>..vv..v.>..>..>.v>vv..v....>"
	"..>v>..v>>.v.>...v..>..v>.>..v>>>v.v......v..v>.v>..>v.v.v.>.....>..>.v>.>vv.>.v.vv>...>>..>.v..>v..vv..>.>>.>.v..v..>>v>v>v..v.....v.>>.v."
	".>v>v...v>...>.>.>.>v....>>v.>v.v>..vvv.>vv>.v>.>>vvv>..>>vv.>.>v...>v.v>.v.....>....>..>.>..v.v>.......>.>v.>v..v..>v>>v>.>....v.>.......v"
	".vv>>>.v.>....>v..v.vv.v>.v.>.>..v>>v..v.....vvv>>....>..v>vv.v.vvv.v>.v.v>v..v.vv...vvvv.>>..>>vvv>>.v>>v.>v...>.v>v>.v..v>v.....>>>.v..>."
	">..v.v.vvv...vv.v...v.....>.>>v>..>>.....>..>......v.....v....v..>>v.>>...>..>v>>.....v..>...>vv...v..v.v.vv>..v>.v>.v.v.>..v>...v>..>v.>.."
	"vv.>....v.v>v...vv...v>>vv....>v..v>v>.v..>v>>v..>..>.>.v.v.>vv..v.............>.>>v>..>.v>v.>v>.v>....>...v..vv.>.>>.v...>..v>...v..>v>>>v"
	"v...>..vv.>..>>...vv..v..vv.v>..v>vv..>v....v.v..vv>v..vv>.v.v>>>.>v....v>>...>>.v..>..v...>.v..v..v.>....v.>.>v.....>.v.v.>v.....>vv...vv."
	">vv...v>......v....>..vvv.v...>.....>vv........>..>..>..>vv.>>.....v>v....>....vv>..vv>>>.>v.v.>>vvv.>v.>..>...>.vv...v..>.vv>..v.>>>.>vvv>"
	"..>vv.>>>vvv.>.>v.vv.>.....>>v>>>v>.v..>>.>.v>.>vv.v.v.v.>v.>v>>.>>>>.>.>>.>...>>.>.>v..v.>>.v.........v>>.>.v...>vv>..v>.>>..>..v.>.>>...."
	".v.v....>....>..>..>..>v>.>>>.v>....>v>..>v.v...>>.v....>vv.v........v>>>v...>......>...>.v>..>.>..>...>...>>..>.............v..vv>.vvv>>.."
	"..>.>>..>v.>.>..vv>>......v..v....>...v..>vv>...v.>>.vvv..>......v....>...>>.v....v.>v....>v....v>>...>.>v..>vvv..>..>v...v....v.....vvv.v."
	"..>...>>...>v>.v.>>..>vv>.v.>>....>....>>...>>v>v.>.v..>...v.v....v..>.>>..>>vv.v....>v>>v>.vv..v.>>....>.v.>..v>.....>v..>v>v.v.>...>..vv."
	".>v..>>>v.>.>..vv>.v.v.v>>>.>.>vvvv..>.v...>..vv.v>...>vvvvv..>...v...v>..>v.>....>v.v>.v.v.>........>>...>.v.>.v>.v>vv>v.v>....>v>v.v..vv>"
	".vv.>..>vv.v>v>.>..v.>.v...>v.>>..v.v..v>...>>>v..>....>....>.>.vv>>.>vv.....v>>v.>v.>..>v.v...>...>...v>....>v>...>.>v..v>....>vv.v......."
	"v.>v>>......vv...vv.......>.>.vv>.v.>.vv>>v>>v.vv>.v.vv>>>..>>.v>v>.vv.v...v.>...>.vv.>v.>.v...>.>vvv>...>..vvv..>v>..vv>.v.>.>.>...>v.vv.>"
	"v>.v.>>...vv.>>.>.>..>v>>>.>>>>>.>.>>>>v.v.>.....>...>..v.....v>v.v.v>vv.v>....>.v.v...vvv..>>....>.>..>v.vv..vv>v>...vv....v>.v..>v>>.>>.."
	".v..>..>vv>>.>.v.>..v..v..>.>.v>>..v>.vv.>.>>.....>..>.v>...>..v.v.>>....>v>.v...>>.v.>>vv.>.v.v.>..>.>v.>>vv.v....v...v.>v...>v.>>..>..>.."
	"..v...>.>v.v.v>>.v>v...>>.vv>..v>v>>.......vv>>>vv...v>.v.vv>.>>>v...>>>>v.....>>.>v..v.>>>v......v>vvvv>..>>>>...>..>....>v...>v>vvv>v.>>v"
	".v..>>.>..>.>>v>.>v.>...v>v.v.>...v.vv.v...vv.v..vv.>..v.....>.>.v..>>>.v..v.>...>.....v.v...>v...>...v..v..v>.>.>..>...>........v..>>....."
	"....v.......vv.v..v>>...>>.>..vv..>v.>v>v...v.>>.v.v.v..>..v...vv>>>vv>>>..v.v.vv.v>..v.v>.>>v>.>.v>v.v..>>v.....vv.>.>v..v....>vv.>>>....."
	".>.v......v.>v>vv.v.v.>.>.>>....vvv>>v.....v.v.v>vv>.v...v.vv>>>...v...>.vv.....>>.v>>..v.v....v>>v.>v.v.v.v.v.>>..>.v.v.>.vv>...v.v..>...."
	">>vv.>vv>.v>.vvv>.>.>.>v.v>>>..v.v.>>.>>vv.v.>.v>>..v...>...vvv>.>>>...v..>>.vv>........>v.v>..>>>.vv..>.v>..vv>...v...>v.....>v...v.....v>"
	".v..>>.v...>.>>>>v..v.>...v.>v..v.......>vv...>>>.>>>>.v..v>..v....vv.>>>..v...vv...vv>...v....>.>vvvvv.vv.vv..>v.v...>....>..>>....v>v..v."
	">...v...>vvv..vv...>.>>..>..>vv>vvv....>.....v>v..>v..>>v...vv.>>>...v..>>v>.>......>>v.v.v.v...>.>.v>>>..>>..>>vv>.>v..v>.....v.vv.vvvv..v"
	".v....v.vv.>...v.v.v>.vvv.>.>vv>.>>v.vv>...>...>..>.>>>.>>vv>>.v....v.v>v>vv.>v.>>.......>.>....vv.v.vv.>v.>..v...>.>....>v>>>>>vv.v.v.>v.v"
	"v>....>..v...>>.....v..........>.>....>>.>.>v.....>.v>>..>.....v.>>....>v.v>v.v...>.>v.v>.>...v.>v..v.v.vv..vv>..v......>v..>.>....>>.>>.v>"
	">....>...v...v...v..v..vv.>.vv..>...vv..vvv.>..v....v.>....vvv>.>v>.v>v>.v>...>.>..>.>>.>>..vv>vv.>v...>..v.>v..v..vv..v>...v>v>vv...vv>..v"
	"v.v....v.v>.v.>.>.....>v..v.>.vv>>..vvv..>.....>>...>...>.....vv.vv>vvv.v.vv.vvv...v.>>v.>vvv.>..>.>>.v..>v.>.v....vv.>>>v.>..>.>vvv>...vv."
	">..>..v..v..v>...vvv>...v.>.v>>>v>v.>v..v...>.vvv.>.v..>vv>>.v.>v>v.>.vvv.v..>..>>.....>.>v>.>....v.>.....>..>>....>.v...v.>>...v.>>>..v..>"
	">v.>v..v..>>......>>..v.....v..>...v>>>..v>>..>....v.>.>>...>.v..vv..>vvvvv.>..v>>..v.v.>..v..v>>.vvv........>.v....>.....>>>.v.>>v.>.v>v>."
	"v..vv>>v>v.v>....>>>.v>.v.v..v.>vvv>..vv.>.>>......>vvv>.>vv>.vv.>..>v.>v>v>>vvv.v.>v..vvv.>..>v..v.v>..v.v.>>v.>.>...v.v.v>...v>vv...v...."
	">v.>>vv.vv>...v>.>vvv.>..>.>..>.....>vv.v>...v.>..v..v......>>.v.>..v....v.>.>...>.>v.>>...v..v.>..v..>v>.v>..>vvv.v..vvvv..>.>..>.v>..v.v."
	"..>>...v>v.vv.v...>....v.v..v..v>>..v..v....vv.v..vv>>..>v......>>..v>.>.v..>vv....>.>....v.....v>.....v..v....>v.>...v.v.>vv>.>v>..>.>v>.v"
	"v>>>v.>.>..v>....>>...vv.....v..v.>v>>..>v>.>>.>..>..vv>.>v....v.v..v.>v....v>.v...>vv..vvvv.>...v...>.>.v....v.vvvv>v...v>vvv>>....>.v>>>v"
	"..v..vvv>v>.v.>>.>..>.>>.>>v.v.......v.v.....v.....v..vv.>.>...>>.vvv...v.v.>.v...v>>>>>>..>v..v..>v....v>>.v.v..v.v.>v...>.v...v.>.>....v."
	">.v>.>>.>..>>.....>>v.>.....>>.>vv..v.>v..>v>>>.vv....v..vv.>..>>vv>...>>.>.vv.v.v..v..>.>.>>v....v..vv>.vv.>>...v>.>...>.v...vv.v.......>."
	">>..v>..>>.v.vv...>.v>...v..vv...v..v.....vvv..v...vvv..v.v>v.>..>..>..>..>.>..v>.>.v...>..>.v>>..vv>v.vvv..>>.....>>.v...v.>.>>..v>.v....>"
	">>>>>>.vv>v.>vvvv.vvv.>..........v.>.>v..>>.v>..v.v>...>.>>..>>..v>........v.v.v.vv.v.vvvv..vv..v.>.>>...v.>..>.>v.>..vvvv>>v.v>.>.vv>.>..v"
	"v>v.>..>v>>.>>...........v>....>.>>>v..>..v>.v.v..>v>>..vvv>..v...>vv..v.>.v.v.v.>.>.>......>...v.>v..>..vv>>>....v..v.>v..>>>v..>v.v.>.vv."
	"vvv..>>.>.>>.vv>v>v.>>v.vv>vv>....>>v..>....>.v..>.v>vv>vv..v.>.v>v.>.>v..v.v.>....>..vv..>.vv>v.>v>vv..v>.>v..>...>..vv.v.vv.>v.>..>......"
	"..vv.>.>>>v.v>.vvv.v....>>.>v>>..>.v.....vv>..>>>v>>v>.v..>..v..v.v...v.>.vvvv...v>vv>>..>.>.>...vv..vvv....>.>..v>..vv>>..>>>>.v>v>>>....."
	"...v...>.>v....>..v>.v>vv>....v..vvvv....>v>>v...>.v....>v>....>.....v..>..>>.....v.>..v...>>>>.>v>..>.v...>..vv..>...>..v>...>>v>...v....v"
	">>v....>>...>>>>.>...>>>v>vv>...v.v>.v...>vv.v.>>.>.>..>....vvv.v...>>.v>.v..>.v...vvvv.>.....v>v.......vv....v...>>..>.v..>.>vv..>>>.v>..v"
	">.>.v>vvvv.>.....>.vv>.v.>v..>..>.v>v>vv>.v....v>v>>>...v.>..>>vv.vvvvv>.vv.>.>....>..v>>....v.>vv>v.v.>.vv.>v>v...>..v..>v.v>..v...v.v...."
	">>>.v.>....v>..v>v.v..>>.>..v.v.>..>>>>vv..>.vv....v.>..v....vv>v.v.>>>v.....>>vv>>...vv.>.>>>.>v..>.>.>>.v.>..>..>..v>>>v.>.v.v.v.>.>>>..."
	"v........vv..vvv.....v..v...v>...v>...v.>v>vv>.v.>..>.>.>..>.>>vv>v.v.>..>v>..>...>>>.v.v...>....v.>.>v.>v>.vv......v......>>v>>.v>.v>...v>"
	".vv...>vvv>v>v.v.v>vv......>..vv..v.....v...v..v>..vvvv>vv.>>v>....v.v....v...v..v.v.....>v>>v>>vv>...>.v>..v....>....>...>....>...>v.v>.>>"
	">>.v.vvv..>..>vv...>.>.v>>.v.>>..v>>>..vv..>.>v>>...v.vvv..v....vvv....>.>...vv...vv.v...>.vv>v>...v.v..v.>...>>v.>...v..v>.>>>..>>v>>v..>."
	"....>v...>>.>v.....>...v>vv.>.>>.v>vvv>>>..v..>>.v>v.v>>>...v>...v.vv>>v.>v>vv..>>...vv.v.v...>.vvvv.v>>v>..v>.....>>>>>v.>v.>.v...v>....>."
	".>>..>>>>.vv>.>v.>.>.v.>..v>.vv.>.v>vvv>....v...v>..>.>v..>...>>.v>.v>..vvv.>>v.>v.>...v....v...v..>>.>.v>.v>>>.....v....v.vv>vv..v>>v>..>."
	"..>.>>>.v>>.v..v..vv.>vv...v.vvv>...vv.v>.v..>>>>>.v....>vv..>v..v.v>.v...vv.v...vv.v>v...v...v>>v....v.>>....vvv.v......>v..v..v..v.>>...."
	">v>>.vv.>v..vv.v.v.v.v>>..v..>v.v.>.>.v>v..>.>.vvvv.v.>.vv.>....v..>>>...>v..>>.v>v.>.v.v....v>>.....>v.vvv>...vv.>.>...>.>.v>>>.>.>v..>.>."
	".v..>v...v...>.....>.>>v>>..>>v>>....>...v....>...v.vv.vv...vv.v..vv.>.>.v>>>v.v........>v..v.v>>.>.v>.>v.vv>>vvv>.>...v..>v>v.>.v>.vv...>v"
	"v>>v..v....vvv>.v>>..v.>>.>>v.>>..v......v....>vv...vv..>v.vv>.........>.v>....v>>.>>.v..v..>v...vv>>>>v>...>.....>.vv.....v>v..vvv.....>.v"
	"v>>.v..>>..v.v.>..v>...v.>.v.>vvv....>v.>>.>v.v>.v.....>v.>...v.vvv..v....v.>>.>..>>v>.v.vv>.>..vv.v.v...v>.v.v...>.....vv>..>>.v.v..v>..>."
	".v.>>...v...>...vv..>.>vv>vv>.>..>>..>...vvv.v>...v..vv>>.v.v>>..>....>v....vvv.v>v>.>.>vv>>..v>.v.>..vv..v.........v...>.v.>.v>.vv..v>.vv."
	".vv..>.>v....>..vv...>..>....>..v>.>..v.v...>.>>.>v.v.>...v>.>...vv....>.>.>...>...>>....v.v.>>>>v.v.......v.>>>v....>v..>>..v..vv>>.>>>>>>"
	"v.>..v.v.vvvv...v>.>....>>>....vv>v.>....vvv.>v.v>>.vv>..>>..>>v...>>>.vv.....>.>..>v>..vv>>>.>>..v....v...>.>...v.vv>.>.v>.>>.>..>.vv.vv>."
	">>.>>.v>.v..>....>v>.v.v>.v..>.>>.v..vv.v.>....>.>>>.>.>vv>......v.>>.>.>>.vv..>...v>..vv..>>.>......v...v...v..>.>>>v..>>v...v.>>>v.v..v>>"
	"v>v.v>.v>.v.>>v>>v.v.>..v>......v.vv..vv.vv.v>.....>>>..v.v..vv>>...>v>.....>>.>v.vv.v>.>v..>v>>v>>.>>vv.v..v.>..>.vvv>>..v...>v.v>>...>.v>"
	"..v..>v.v>>v>.>...>v......>..v.v...vv>.>vv............v...>v....v...vv.>>>.vv..v..v..v...>..>..v.>...v..v..>>>...vv.v.>...v.v...>.v.>.>>vv>"
	"..vvv.>.v.v..>>.vv..v.>...>.v>vvv....>vv>vvvvv..vv.v.v.>>>.v..>>.v.v..>.>vv.vv.>>>vv.vv..>..>.v>v>...>..>.....vvv...v..vv.vv.v.v>.v.vvv...>"
	"...v..>...v..v.>>vv>.v.>...v...>.vvv.v.>vvv....vv.v>>>>.v.v>>>>.>..v>v.v.v.v.>..v>.>v>v>..vv..vvv..v.>>>..v>.v>.v>>.>.>>.v.>>>>.vv>v.v.>vvv"
	">>.>>.>...>.vv>.>>..v>>.v.>>.v.>vvv>..v>>.v..>>vv.>>.>vv..v.>>.v..v..v..v...v>>v>.>.v...v.v.....v..>..>>>.>>>>.v...>>>....v.v.v.v.vvv>v>.>."
	"v.>v>>....vv.>>.>.>.v>..>.....>>.>>.v...>vv...vv>v>>>...>>...vv.>v..vvvv>v>.....>.v..>....>..>....>....v........>...>.>..>.vv.v>v...vv..>vv"
	">.vv.v>.>v.>.v....v.v.>v>..>..v>.vvv..v.>....v..vv>.v..v.vv..>.>>>v.v>..vv.>.>v.>.........v>...v.v..vv>.v......vv.vv.......>.v.>>.v...v>..."
	"..v..vv.>>>.>>..>v..v.>>>....>v.>>...>..vvvv...>v.v...>...v....>......vvv..v.vv.>v.>.>>..>...>v.>.>v>.>v...v..v.>>.v>vv.>..v.v.v......>.>.v"
	"..v.>v.v.vv>>>vv.....vv>.vv......v..v.>>>.>.v.v>v.>..vv...v..vv>>.v.v..>v.v.vv>.v>>.vv>.v...>...v>v.v.vv..>vvvv>>v>>....v..>.>>.v>.v>>.>v.v"
	".v...>v...>.......vvvv.>.>>.vv>..v.vvv.>>...v>...>.>>v>>vvvv>.>...>.>.v>.vv.v.>>..vv......>v>.v.v..v.....>v.vvv..v....>....>...v.....v>..>v"
	">v.......vvvv.>..>v>.v...>.......v>...>v>>..>.>..v.>>.v.v>vv>...>>..>vv.v>..v..v.v>...v......v.v.>v.v>.v.>>vv.>.v.>.>...>>......v..v>>.>v.v"
	">.>vv..>.>.....v>v.vv>v>v>.>.v.......v>.v.v.>.vv>.>>.v>v.v.v.v....>..v>..>....>v..>>vvv>.v.v>v>>vv.>........>>..v>.>..>>>>>.v.v.>vv.>.>...."
	".>>>......>>...>v.>vv>vv.>v.v>.>v...vvv...>....v..>.>..>v......>..>>vv>>..v>.>>...v.>.>>v>...>>....>..>.>.>>..v..v..v.vv..>...v...v>.>....."
	"v..v...v>>...vv..>.>.v>..>v>.v..vv..vv.v.v.v>vvv.>.v.v.>.v.>....>v>vv.v>.vv...v>v..>v.>.....v>>>.v>.>v.>vv...v....>..>...>.vvvv.>.>>.v.>>.."
	">.vvv.....v.v....v...v.......v.>.v..>vvv..v.>.v.>v.>...vv..>>vv..v>vv...v.>.v...>v.>.>.v...>..>vv>.v>v.....>..>>>.>.>.>v.v....v.vvvvv.>v..."
	">v.>>..v..v......>..v..vv...>>v..>..v.>...>..v>v>v.>......v>...v.>..v>v>v.vv.v..vv.>>.vv>...>>.v.>v.v..>..v>>v.v.>...v>....>v......>.v.>.v."
	"..v.....>>vv.....v..>.....vv...v...v.>>vv...>.....>.v.v.v.>vvv.v.>.>>v>..>...v..v>......v...v>v>.>>>v...>.>.v...>>>>..>vv..vv.vv>.>..v....v"
	".....v.vvvv..v>v.>>......>v..v..>.>.v.v.....v..v>.v>vv.>.v.>vv.v..v..>.>..v.v...>...>.....>.v>..>>>.>..>v.vv.v.>.vv...v...>.>.>v..v.v.v.vv."
	".>v>...>v..v..>..>>>..v.>vv>>.>>.vv.v...v>>..v>v>v>.....v.>v>.vvv.v....>v>>v...v>vv...>..>v.>..vvv..v..>.v.>.v.>v...>..>vv>v.v..v.>v.>vvvv>"
	".v..vv.>>....v.v.v.>v>....vv......v>..>.>>>.v>>.>>...>>>>..v......v>...>vv>>.vvv..>.>>......>.>.v.vv...>>..>>v.v..vv>.v>v>v>>..>>.>vvv..v.>"
	"...v..v..v.v..v.>.>v.>.>vv>>>vv.v......v.>..>.>>v.>...>....>>......>.v.v>.vv>..v>.>..v.....vv>>v..v>v.>>..vv>.>.v>.v.....>...v>v..v>>...v.."
	"vv...v.....v.v.>>>.>v..vv.>.>.....v.v..>...vv>v>...>....>.vv..>v.>.v>..vvv.>>.>>v..v..>...v..>vvv.>>.v>..>............>....vv.v.>>v>v..>..>"
	".>.>..>vv.>..vvv>..>>.>>....v>>..v.>.>v..v...v...>...>.>>>>.......v.v....>..v>.>..vv..>v>v.>>>v.>>>v>.vvv..>.v.vv.>>..v>>>.>>vvv>>....vv>>>"
	".>>>vv...v...>..>..vv.>..>>......>>...>v..>.v..>>>..>.v>>v.>>v.vv>vvv...>v.vv.v>.>.v>vv..>v..>....vvv.>v..v..vv....v..v........vv......vv.>"
	"...>.v....>.vv.......>>>.v.>...vv>>.v>.v.>>...>.>.....>v.>..v.>.>..>.....vv...>>.>..v..>v..>>vv..v..........>.>>v.>>v>...v.>>...v....>>>..v"
	">>...>.>.>....>.>.>v..v.....v>.>vv>>v.v>...vv>..v.>v...v..>.>vv.vv>.v...>>..>v.v.vv.....v>>.v>v.....vvv.v.>..vv>v>.....vvv...>.vvv.vv...v.>"
	"v>.>..vv>v..v..>...>>.v>......>.v.>.......>..v>vv.v...v.>v>v......>v....vv..>..v>.>>.>v.>>>.v>>>vvv>>.>v.v...>..>.>.v>>..>v.v.v...>>.vvv.v."
	"....>.....v..vv.>>.>.>v.>......v>....v.>v.v.v.>..v..v>>.........v.v>...v..v.v>..>v..v.vv.>.>>>v..v....>.>v.v>>..vv.v.>........v>...v.>.>..v"
	".>>v.v...>.>.v....>.>>....vvv>..>>>..vvv>.v..>...>v....>>.vv....>>....>>>>.>v>>>>v.v>..>..>v...>.v>.>>>v..>...>.>>vv.vv.vv>..>.>v>.>..v>.vv"
	">.vv>.>.....v>..>...v..>>v.v>>.v.>...>.v..>>>.>vv.v......>>>....v...>>v.>v..v.>>..v.v.v..>.v.>>...v....vv..vv...>vv>v..v>..v......>v...>v>."
	"v>>..v.v...>>vv>>v.v.>v..v......>v.>..>v>v.>>v...>..>.v>.>v....>.v>.>v....>..v.>vv>.v.v>..>...>.v.v.v>v.....>...v..v>...>v>>>>.>>.....>vv.."
	"..v.v..v.>.v>.>.v.>.vvv..v>>.v..v.v>v>.vv>.>..>....>>..vv...>>v.>..vv...>v.vv>>v..vv.v.>....>v.v..v>>.v..v.v>vv..>v.v>..v.v>v.>..>......>v>"
	">.>v.v>v.>v>vv.v>.......v....v>v..v>..>.>..v.>.v.>v..>>...>>.v.....>....v.>.v>....>vv.v>.v>..>..vv.v>v.>vv.v....>>..vv..v..>.v>v.v>.v.v.vvv"
	".>.>.>v.v...v>v>>.vvvv..v>..>>..v...v..v.v.v>v.v.v..>.>..>>v.v>v>>vvvv.v>.>.vv.>..v>v>>>vv>.....>v..>.>>.v.>.vv....>..>..>v>>....>>v...v>>."
	"..v>.......>>.v.....v>>>v.v.v>...v..>>>>.>.>>>v>.v.>....v.>v.>v>...vv.vv..vvv>.vv>..>.v>v>.>.>>v..v.>...vv..>.>..>.>.v..>.>>.>.v.vv.v...>.."
	"v..vv.v..v.....>v>.v>v.......>.>.v..v.v.v..v>vv>v...v>>.v>..>>.v>>...>>..>...>.v>>vv>vv>>vv>.>v>.v..>>...v....vv>...v>>...v..v>..v..v.>.v>."
	".>>>..>.vv..v>>.v..>.>>.....v>...>.vv>.>.>..v..v>v>.v>..v.>vv.>.v>v>.v.>v....v>.>..v...v..>>vv...>..>>.v..vv..v..........>v.v..vvv..>>>..v."
	"v...>v>..>v>v>.>v>.v....>.>.v>..v.>>...>....>.vv.vv..>...v>v.vv..vvvvv>v.v....>.v>..>>.>>v>v>v>vv..>.v.vv.>.vv>v.....>v..v...v.>..>>>>.>vvv"
	".v>v>...>.vv.vv...v....>.>.v..v>>.v....v.v>....>..>.v>v..>..>.>>>v>>.vv....v..v..>>v>>>.v.v>...>v.>v>......>v>>>..v....>v.v........>>v.v.v."
	">>...v..>>>..>..v...v..>>...v>>>vv>.>>..>.>.....v..v....>>.v.vv>>vv.>..>>v>....v>>.>>>......vv.v....>v..>...v.v.v>v..>.vv.v..>>vvv..>.>v..v"
	".>.v>......>...>>...>...vvvv>.v.v.v..>v..>>>.v>>..v...>vv.v.>>v...>>..v.>>.>.>>.....>>.v.>.v.>.>vvv.v.v.v...>..>>v..>....v.v.v.>v>...v..v>."
	"v..v>>..>>.v>>.>>>v>....v..>>...v>>v.>...v>>.>..>>vv.>.>.>..>vv....>..>>.v.>>>>.v>.vvv>.>..vvv.v..v>.>.....vv.vv...v....>vv.vvvvvvv.v....>>"
	">..v..v.v.v.>.vv>.v>v..v.v.v.v>>..>.v...>.v.v...v>.........v.v.....>...v.>v..v>....v..v.vv.>..>.v.vv....>.v.>>v.v.>v..>>.>...>..>vv>vv..v.."
	">.vvv..>...>....>.v.>.>.>v..>.vv.>..>..>.>>.>vv>v>v>.>...v>.....>...>vv>.>.>....>>..vv.v>v..v>>>v..>>vv>v.v>.v..vv..v>.vvv..>v..v.v..v....."
	"v..>>...v>.>v>v..>>.v>.v.>.vv>vv>.>.>...>.>...v.vv.>v.v..>vvv..>>vvvv..>>..>>>v.>v>v.>>vv>v>....v.v>...>v.v.v>.vv.....>....v>......>.vv.v>>"
};

#if 0
#define data data0
#define WIDTH 10
#define HEIGHT 9
#else
#define data data1
#define WIDTH 139
#define HEIGHT 137
#endif

char* buffer;
char* board[2];

void initialize()
{
	int size = WIDTH * HEIGHT * sizeof(char);
	buffer = (char*)malloc(size * 2);
	assert(buffer != NULL && "allocation failed");
	board[0] = buffer;
	board[1] = buffer + size;

	memcpy(board[0], data, size);
}

int update()
{
	int updated = 0;

	char* src = board[0];
	char* dst = board[1];

	const char cucumberType[] = { '>', 'v' };
	const int offsets[] = { 1, 0, 0, 1 };

	int type = 0;
	do
	{
		for (int i = 0; i < WIDTH * HEIGHT; ++i)
			dst[i] = '.';

		for (int i = 0; i < WIDTH * HEIGHT; ++i)
		{
			int x = i % WIDTH;
			int y = i / WIDTH;

			if (src[i] == cucumberType[type])
			{
				int pos = ((y + offsets[type * 2 + 1]) % HEIGHT) * WIDTH + ((x + offsets[type * 2 + 0]) % WIDTH);
				if (src[pos] == '.')
				{
					dst[pos] = cucumberType[type];
					++updated;
				}
				else
				{
					dst[i] = cucumberType[type];
				}
			}
		}

		for (int i = 0; i < WIDTH * HEIGHT; ++i)
		{
			if (src[i] == cucumberType[type])
				src[i] = '.';

			if (dst[i] == cucumberType[type])
				src[i] = cucumberType[type];
		}
	} while (type++ < _countof(cucumberType));

	return updated;
}

int main()
{
	initialize();

	int numberOfUpdates = 0;
	do
	{
		numberOfUpdates++;
	} while (update() != 0);

	printf("%d\n", numberOfUpdates);

	free(buffer);
}